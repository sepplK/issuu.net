# build Configuration, i.e. Debug, Release, etc.
configuration: Release

# scripts to run before build
before_build:
  - dotnet restore

build_script:
  - dotnet build .\issuu.sln -c %CONFIGURATION%

# test_script:
#  - dotnet test .\src\issuu.Tests\

after_build:
  - dotnet pack "src\issuu.Client" -c %CONFIGURATION% -o %APPVEYOR_BUILD_VERSION%.nupkg
  - ps: Get-ChildItem src\issuu.Client\bin\Release\*.nupkg | % { Push-AppveyorArtifact $_.FullName -FileName $_.Name }