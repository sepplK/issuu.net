# build Configuration, i.e. Debug, Release, etc.
configuration: Release

# scripts to run before build
before_build:
  - dotnet restore

build_script:
  - dotnet build .\issuu.sln -c %CONFIGURATION%

# test_script:
#  - dotnet test .\src\issuu.Tests\

after_build:
  - dotnet pack "src\issuu.Client" -c %CONFIGURATION%

artifacts:
  - path: '**\*.nupkg'
    name: NuGetPackage

deploy:
  provider: NuGet
  api_key:
    secure: gPtGyGrSO2Gz/dcTtp+e9yKMGUtvOpsfsxaDS01bbpDv2v+4MjkuLL5JJTUqLKU/
  skip_symbols: false
  artifact: NuGetPackage